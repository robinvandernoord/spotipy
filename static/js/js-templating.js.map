{"version":3,"sources":["../es6/js-templating.js"],"names":["$","loadTemplate","template","data","options","$template","isFile","settings","$that","extend","async","overwriteCache","complete","success","error","each","html","errorMessage","paged","pageNo","elemPerPage","append","prepend","beforeInsert","afterInsert","bindingOptions","ignoreUndefined","ignoreNull","ignoreEmptyString","type","isArray","processArray","call","containsSlashes","indexOf","length","templates","prepareTemplateFromCache","hasOwnProperty","addToQueue","loadAndPrepareTemplate","loadTemplateFromDocument","addTemplateFormatter","key","formatter","formatters","str","newOptions","todo","doPrepend","done","errored","errorObjects","startNo","slice","e","push","reverse","selection","queue","$templateContainer","clone","prepareTemplate","uniqueId","Date","getTime","urlAvoidCache","url","templateUrl","ajax","templateContent","handleTemplateLoadingSuccess","handleTemplateLoadingError","is","parseHTML","trim","bindData","$templateHtml","children","val","eq","value","shift","processElements","$elem","applyFormatters","text","attr","remove","css","addClass","$linkElem","wrap","$option","appendTo","processAllElements","attribute","dataBindFunction","noDataFunction","$this","param","getValue","valueIsAllowedByBindingOptions","removeAttr","bindingOptionsContainer","getBindingOptions","jQuery","parseJSON","applyDataBindFormatters","optionsData","content","selected","formatterSettings","formatOptions","part","paramParts","split","formatterTarget","internalSettings","parentElement","fn"],"mappings":"mOAAA;AAEA,CAAC,SAAUA,CAAV,CAAa,CACV,aAMA,QAASC,EAAT,CAAsBC,CAAtB,CAAgCC,CAAhC,CAAsCC,CAAtC,CAA+C,CAC3C,GACIC,EADJ,CAEIC,CAFJ,CAGIC,CAHJ,CAAIC,EAAQ,IAAZ,CAD2C,OAM3CL,EAAOA,GAAQ,EAN4B,CAQ3CI,EAAWP,EAAES,MAAF,IAAe,CACtB;AACAC,QAFsB,CAGtBC,iBAHsB,CAItBC,SAAU,IAJY,CAKtBC,QAAS,IALa,CAMtBC,MAAO,YAAY,CACfd,EAAE,IAAF,EAAQe,IAAR,CAAa,UAAY,CACrBf,EAAE,IAAF,EAAQgB,IAAR,CAAaT,EAASU,YAAtB,CACH,CAFD,CAGH,CAVqB,CAWtBA,aAAc,0CAXQ,CAYtBC,QAZsB,CAatBC,OAAQ,CAbc,CActBC,YAAa,EAdS,CAetBC,SAfsB,CAgBtBC,UAhBsB,CAiBtBC,aAAc,IAjBQ,CAkBtBC,YAAa,IAlBS,CAmBtBC,eAAgB,CACZC,kBADY,CAEZC,aAFY,CAGZC,oBAHY,CAnBM,CAAf,CAwBRxB,CAxBQ,CARgC,CAkCtB,OAAjB,KAAEyB,IAAF,CAAO1B,CAAP,CAlCuC,GAmCvC2B,IAnCuC,CAoChCC,EAAaC,IAAb,CAAkB,IAAlB,CAAwB9B,CAAxB,CAAkCC,CAAlC,CAAwCI,CAAxC,CApCgC,GAuCtC0B,EAAgB/B,CAAhB,CAvCsC,GAwCvCG,EAAYL,EAAEE,CAAF,CAxC2B,CAyCf,QAApB,QAAOA,EAAP,EAA0D,CAA1B,KAASgC,OAAT,CAAiB,GAAjB,CAzCG,GA0CnC3B,EAASD,MAAT,GA1CmC,GA8C3CA,EAASC,EAASD,MAAT,EAA+C,WAA3B,QAAOC,GAASD,MAAhB,GAAgE,WAArB,QAAOD,EAAP,EAAyD,CAArB,KAAU8B,MAAzF,CA9Cc,CAgDvC7B,GAAU,CAACC,EAASI,cAApB,EAAsCyB,EAAUlC,CAAV,CAhDC,CAiDvCmC,EAAyBnC,CAAzB,CAAmCM,CAAnC,CAA0CL,CAA1C,CAAgDI,CAAhD,CAjDuC,CAkDhCD,GAAU,CAACC,EAASI,cAApB,EAAsCyB,EAAUE,cAAV,CAAyBpC,CAAzB,CAlDN,CAmDvCqC,EAAWrC,CAAX,CAAqBM,CAArB,CAA4BL,CAA5B,CAAkCI,CAAlC,CAnDuC,CAoDhCD,CApDgC,CAqDvCkC,EAAuBtC,CAAvB,CAAiCM,CAAjC,CAAwCL,CAAxC,CAA8CI,CAA9C,CArDuC,CAuDvCkC,EAAyBpC,CAAzB,CAAoCG,CAApC,CAA2CL,CAA3C,CAAiDI,CAAjD,CAvDuC,CAyDpC,IAzDoC,CA0D9C,CAED,QAASmC,EAAT,CAA8BC,CAA9B,CAAmCC,CAAnC,CAA8C,CACtCA,CADsC,CAEtCC,EAAWF,CAAX,EAAkBC,CAFoB,CAItCC,EAAa7C,EAAES,MAAF,CAASoC,CAAT,CAAqBF,CAArB,CAEpB,CAED,QAASV,EAAT,CAAyBa,CAAzB,CAA8B,CAC1B,MAAsB,QAAf,QAAOA,EAAP,EAA8C,CAAC,CAApB,GAAIZ,OAAJ,CAAY,GAAZ,CACrC,CAED,QAASH,EAAT,CAAsB7B,CAAtB,CAAgCC,CAAhC,CAAsCI,CAAtC,CAAgD,CAC5CA,EAAWA,GAAY,EADqB,CAE5C,GAOIwC,EAPJ,CAAIvC,EAAQ,IAAZ,CACIwC,EAAO7C,EAAKgC,MADhB,CAEIc,EAAY1C,EAASe,OAAT,EAAoB,CAACf,EAASc,MAF9C,CAGI6B,EAAO,CAHX,CAIIrC,EAAU,CAJd,CAKIsC,IALJ,CAMIC,EAAe,EANnB,CASA,GAAI7C,EAASW,KAAb,CAAoB,CAChB,GAAImC,GAAU,CAAC9C,EAASY,MAAT,CAAkB,CAAnB,EAAwBZ,EAASa,WAA/C,CACAjB,EAAOA,EAAKmD,KAAL,CAAWD,CAAX,CAAoBA,EAAU9C,EAASa,WAAvC,CAFS,CAGhB4B,EAAO7C,EAAKgC,MACf,CAgDD,MA9CK5B,GAASc,MAAV,EAAqBd,EAASe,OA8ClC,EA7CId,EAAMQ,IAAN,CAAW,EAAX,CA6CJ,CA1CA+B,EAAa/C,EAAES,MAAF,CACT,EADS,CAETF,CAFS,CAGT,CACIc,OAAQ,CAACd,EAASe,OAAV,IADZ,CAEIV,SAAU,YAAgB,CACtBsC,GADsB,EAElBA,IAASF,CAAT,EAAiBG,CAFC,IAGdA,GAAW5C,CAAX,EAAiD,UAA1B,QAAOA,GAASO,KAHzB,EAIdP,EAASO,KAAT,CAAekB,IAAf,CAAoBxB,CAApB,CAA2B4C,CAA3B,CAJc,CAMd7C,GAAyC,UAA7B,QAAOA,GAASK,QANd,EAOdL,EAASK,QAAT,EAPc,CAUzB,CAZL,CAaIC,QAAS,YAAY,CACjBA,GADiB,CAEbA,IAAYmC,CAFC,EAGTzC,GAAwC,UAA5B,QAAOA,GAASM,OAHnB,EAITN,EAASM,OAAT,EAGX,CApBL,CAqBIC,MAAO,WAAUyC,CAAV,CAAa,CAChBJ,IADgB,CAEhBC,EAAaI,IAAb,CAAkBD,CAAlB,CACH,CAxBL,CAHS,CA0Cb,CATIN,CASJ,EATe9C,EAAKsD,OAAL,EASf,CARAzD,EAAEG,CAAF,EAAQY,IAAR,CAAa,UAAY,CAGrB,GADAd,EAAa+B,IAAb,CAAkBxB,CAAlB,CAAyBN,CAAzB,CAAmC,IAAnC,CAAyC6C,CAAzC,CACA,CAAII,CAAJ,CACI,QAEP,CAND,CAQA,CAAO,IACV,CAED,QAASZ,EAAT,CAAoBrC,CAApB,CAA8BwD,CAA9B,CAAyCvD,CAAzC,CAA+CI,CAA/C,CAAyD,CACjDoD,EAAMzD,CAAN,CADiD,CAEjDyD,EAAMzD,CAAN,EAAgBsD,IAAhB,CAAqB,CAAErD,KAAMA,CAAR,CAAcuD,UAAWA,CAAzB,CAAoCnD,SAAUA,CAA9C,CAArB,CAFiD,CAIjDoD,EAAMzD,CAAN,EAAkB,CAAC,CAAEC,KAAMA,CAAR,CAAcuD,UAAWA,CAAzB,CAAoCnD,SAAUA,CAA9C,CAAD,CAEzB,CAED,QAAS8B,EAAT,CAAkCnC,CAAlC,CAA4CwD,CAA5C,CAAuDvD,CAAvD,CAA6DI,CAA7D,CAAuE,CACnE,GAAIqD,GAAqBxB,EAAUlC,CAAV,EAAoB2D,KAApB,EAAzB,CAEAC,EAAgB9B,IAAhB,CAAqB0B,CAArB,CAAgCE,CAAhC,CAAoDzD,CAApD,CAA0DI,CAA1D,CAHmE,CAInC,UAA5B,QAAOA,GAASM,OAJ+C,EAK/DN,EAASM,OAAT,EAEP,CAED,QAASkD,EAAT,EAAoB,CAChB,MAAO,IAAIC,KAAJ,GAAWC,OAAX,EACV,CAED,QAASC,EAAT,CAAuBC,CAAvB,CAA4B,OACC,CAAC,CAAtB,KAAIjC,OAAJ,CAAY,GAAZ,CADoB,CAKbiC,EAAM,KAAN,CAAcJ,GALD,CAEbI,EAAM,KAAN,CAAcJ,GAK5B,CAED,QAASvB,EAAT,CAAgCtC,CAAhC,CAA0CwD,CAA1C,CAAqDvD,CAArD,CAA2DI,CAA3D,CAAqE,CAEjE6B,EAAUlC,CAAV,EAAsB,IAF2C,CAGjE,GAAIkE,GAAclE,CAAlB,CACIK,EAASI,cAJoD,GAK7DyD,EAAcF,EAAcE,CAAd,CAL+C,EAOjEpE,EAAEqE,IAAF,CAAO,CACHF,IAAKC,CADF,CAEH1D,MAAOH,EAASG,KAFb,CAGHG,QAAS,WAAUyD,CAAV,CAA2B,CAChCC,EAA6BvE,EAAEsE,CAAF,CAA7B,CAAiDpE,CAAjD,CAA2DwD,CAA3D,CAAsEvD,CAAtE,CAA4EI,CAA5E,CACH,CALE,CAMHO,MAAO,WAAUyC,CAAV,CAAa,CAChBiB,EAA2BtE,CAA3B,CAAqCwD,CAArC,CAAgDvD,CAAhD,CAAsDI,CAAtD,CAAgEgD,CAAhE,CACH,CARE,CAAP,CAUH,CAED,QAASd,EAAT,CAAkCpC,CAAlC,CAA6CqD,CAA7C,CAAwDvD,CAAxD,CAA8DI,CAA9D,CAAwE,EAChEF,EAAUoE,EAAV,CAAa,QAAb,GAA0BpE,EAAUoE,EAAV,CAAa,UAAb,CADsC,IAEhEpE,EAAYL,EAAE0E,SAAF,CAAY1E,EAAE2E,IAAF,CAAOtE,EAAUW,IAAV,EAAP,CAAZ,CAFoD,EAKpE8C,EAAgB9B,IAAhB,CAAqB0B,CAArB,CAAgCrD,CAAhC,CAA2CF,CAA3C,CAAiDI,CAAjD,CALoE,CAOpC,UAA5B,QAAOA,GAASM,OAPgD,EAQhEN,EAASM,OAAT,EAEP,CAED,QAASiD,EAAT,CAAyB5D,CAAzB,CAAmCC,CAAnC,CAAyCI,CAAzC,CAAmD,CAC/C,GAAIL,GAAWF,EAAE,QAAF,EAAYqB,MAAZ,CAAmBnB,CAAnB,CAAf,CACA0E,EAAS1E,CAAT,CAAmBC,CAAnB,CAAyBI,CAAzB,CAF+C,CAI/CP,EAAE,IAAF,EAAQe,IAAR,CAAa,UAAY,CACrB,GAAI8D,GAAgB3E,EAAS4E,QAAT,GAAoBjB,KAApB,IAApB,CACA7D,EAAE,QAAF,CAAY6E,CAAZ,EAA2B9D,IAA3B,CAAgC,SAAU4B,CAAV,CAAsB,CAClD3C,EAAE,IAAF,EAAQ+E,GAAR,CAAY/E,EAAE,QAAF,CAAYE,CAAZ,EAAsB8E,EAAtB,CAAyBrC,CAAzB,EAA8BoC,GAA9B,EAAZ,CACH,CAFD,CAFqB,CAKjBxE,EAASgB,YALQ,EAMjBhB,EAASgB,YAAT,CAAsBsD,CAAtB,CAAqC1E,CAArC,CANiB,CAQjBI,EAASc,MARQ,CAUjBrB,EAAE,IAAF,EAAQqB,MAAR,CAAewD,CAAf,CAViB,CAWVtE,EAASe,OAXC,CAYjBtB,EAAE,IAAF,EAAQsB,OAAR,CAAgBuD,CAAhB,CAZiB,CAcjB7E,EAAE,IAAF,EAAQgB,IAAR,CAAa,EAAb,EAAiBK,MAAjB,CAAwBwD,CAAxB,CAdiB,CAgBjBtE,EAASiB,WAhBQ,EAiBjBjB,EAASiB,WAAT,CAAqBqD,CAArB,CAAoC1E,CAApC,CAEP,CAnBD,CAJ+C,CAyBd,UAA7B,QAAOI,GAASK,QAzB2B,EA0B3CL,EAASK,QAAT,CAAkBoB,IAAlB,CAAuBhC,EAAE,IAAF,CAAvB,CAAgCG,CAAhC,CAEP,CAED,QAASqE,EAAT,CAAoCtE,CAApC,CAA8CwD,CAA9C,CAAyDvD,CAAzD,CAA+DI,CAA/D,CAAyEO,CAAzE,CAAgF,CAC5E,GAAImE,EAAJ,CAD4E,IAG9C,UAA1B,QAAO1E,GAASO,KAHwD,EAIxEP,EAASO,KAAT,CAAekB,IAAf,CAAoB0B,CAApB,CAA+B5C,CAA/B,CAJwE,CAO5Ed,EAAE2D,EAAMzD,CAAN,CAAF,EAAmBa,IAAnB,CAAwB,SAAU4B,CAAV,CAAesC,CAAf,CAAsB,CACN,UAAhC,QAAOA,GAAM1E,QAAN,CAAeO,KADgB,EAEtCmE,EAAM1E,QAAN,CAAeO,KAAf,CAAqBkB,IAArB,CAA0BiD,EAAMvB,SAAhC,CAA2C5C,CAA3C,CAEP,CAJD,CAP4E,CAa3C,UAA7B,QAAOP,GAASK,QAbwD,EAcxEL,EAASK,QAAT,CAAkBoB,IAAlB,CAAuB0B,CAAvB,CAdwE,CAiBrEC,EAAMzD,CAAN,IAAoB+E,EAAQtB,EAAMzD,CAAN,EAAgBgF,KAAhB,EAA5B,CAjBqE,EAkBjC,UAAnC,QAAOD,GAAM1E,QAAN,CAAeK,QAlB8C,EAmBpEqE,EAAM1E,QAAN,CAAeK,QAAf,CAAwBoB,IAAxB,CAA6BiD,EAAMvB,SAAnC,CAnBoE,CAuB7C,WAA3B,QAAOC,GAAMzD,CAAN,CAAP,EAAmE,CAAzB,GAAMA,CAAN,EAAgBiC,MAvBc,GAwBxEwB,EAAMzD,CAAN,EAAkB,EAxBsD,CA0B/E,CAED,QAASqE,EAAT,CAAsCX,CAAtC,CAA0D1D,CAA1D,CAAoEwD,CAApE,CAA+EvD,CAA/E,CAAqFI,CAArF,CAA+F,CAC3F,GAAI0E,EAAJ,CAD2F,IAG3F7C,EAAUlC,CAAV,EAAsB0D,EAAmBC,KAAnB,EAHqE,CAI3FC,EAAgB9B,IAAhB,CAAqB0B,CAArB,CAAgCE,CAAhC,CAAoDzD,CAApD,CAA0DI,CAA1D,CAJ2F,CAM3D,UAA5B,QAAOA,GAASM,OANuE,EAOvFN,EAASM,OAAT,CAAiBmB,IAAjB,CAAsB0B,CAAtB,CAPuF,CAUpFC,EAAMzD,CAAN,IAAoB+E,EAAQtB,EAAMzD,CAAN,EAAgBgF,KAAhB,EAA5B,CAVoF,EAWvFpB,EAAgB9B,IAAhB,CAAqBiD,EAAMvB,SAA3B,CAAsCtB,EAAUlC,CAAV,EAAoB2D,KAApB,EAAtC,CAAmEoB,EAAM9E,IAAzE,CAA+E8E,EAAM1E,QAArF,CAXuF,CAYjD,UAAlC,QAAO0E,GAAM1E,QAAN,CAAeM,OAZ6D,EAanFoE,EAAM1E,QAAN,CAAeM,OAAf,CAAuBmB,IAAvB,CAA4BiD,EAAMvB,SAAlC,CAGX,CAED,QAASkB,EAAT,CAAkB1E,CAAlB,CAA4BC,CAA5B,CAAkCI,CAAlC,CAA4C,CACxCJ,EAAOA,GAAQ,EADyB,CAGxCgF,EAAgB,cAAhB,CAAgCjF,CAAhC,CAA0CC,CAA1C,CAAgDI,CAAhD,CAA0D,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC9EG,EAAMpE,IAAN,CAAWqE,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,SAA9B,CAAyC1E,CAAzC,CAAX,CACH,CAFD,CAHwC,CAOxC4E,EAAgB,qBAAhB,CAAuCjF,CAAvC,CAAiDC,CAAjD,CAAuDI,CAAvD,CAAiE,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CACrFG,EAAM/D,MAAN,CAAagE,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,SAA9B,CAAyC1E,CAAzC,CAAb,CACH,CAFD,CAPwC,CAWxC4E,EAAgB,sBAAhB,CAAwCjF,CAAxC,CAAkDC,CAAlD,CAAwDI,CAAxD,CAAkE,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CACtFG,EAAM9D,OAAN,CAAc+D,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,SAA9B,CAAyC1E,CAAzC,CAAd,CACH,CAFD,CAXwC,CAexC4E,EAAgB,mBAAhB,CAAqCjF,CAArC,CAA+CC,CAA/C,CAAqDI,CAArD,CAA+D,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CACnFG,EAAME,IAAN,CAAWD,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,SAA9B,CAAyC1E,CAAzC,CAAX,CACH,CAFD,CAfwC,CAmBxC4E,EAAgB,gBAAhB,CAAkCjF,CAAlC,CAA4CC,CAA5C,CAAkDI,CAAlD,CAA4D,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAChFG,EAAMpE,IAAN,CAAWqE,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,SAA9B,CAAyC1E,CAAzC,CAAX,CACH,CAFD,CAnBwC,CAuBxC4E,EAAgB,UAAhB,CAA4BjF,CAA5B,CAAsCC,CAAtC,CAA4CI,CAA5C,CAAsD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC1EG,EAAMG,IAAN,CAAW,KAAX,CAAkBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,KAA9B,CAAqC1E,CAArC,CAAlB,CACH,CAFD,CAEG,SAAU6E,CAAV,CAAiB,CAChBA,EAAMI,MAAN,EACH,CAJD,CAvBwC,CA6BxCL,EAAgB,WAAhB,CAA6BjF,CAA7B,CAAuCC,CAAvC,CAA6CI,CAA7C,CAAuD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC3EG,EAAMG,IAAN,CAAW,MAAX,CAAmBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,MAA9B,CAAsC1E,CAAtC,CAAnB,CACH,CAFD,CAEG,SAAU6E,CAAV,CAAiB,CAChBA,EAAMI,MAAN,EACH,CAJD,CA7BwC,CAmCxCL,EAAgB,UAAhB,CAA4BjF,CAA5B,CAAsCC,CAAtC,CAA4CI,CAA5C,CAAsD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC1EG,EAAMG,IAAN,CAAW,KAAX,CAAkBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,KAA9B,CAAqC1E,CAArC,CAAlB,CACH,CAFD,CAnCwC,CAuCxC4E,EAAgB,YAAhB,CAA8BjF,CAA9B,CAAwCC,CAAxC,CAA8CI,CAA9C,CAAwD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC5EG,EAAMG,IAAN,CAAW,OAAX,CAAoBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,OAA9B,CAAuC1E,CAAvC,CAApB,CACH,CAFD,CAvCwC,CA2CxC4E,EAAgB,SAAhB,CAA2BjF,CAA3B,CAAqCC,CAArC,CAA2CI,CAA3C,CAAqD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CACzEG,EAAMG,IAAN,CAAW,IAAX,CAAiBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,IAA9B,CAAoC1E,CAApC,CAAjB,CACH,CAFD,CA3CwC,CA+CxC4E,EAAgB,UAAhB,CAA4BjF,CAA5B,CAAsCC,CAAtC,CAA4CI,CAA5C,CAAsD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC1EG,EAAMK,GAAN,CAAUJ,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,KAA9B,CAAqC1E,CAArC,CAAV,CACH,CAFD,CA/CwC,CAmDxC4E,EAAgB,YAAhB,CAA8BjF,CAA9B,CAAwCC,CAAxC,CAA8CI,CAA9C,CAAwD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC5EG,EAAMM,QAAN,CAAeL,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,OAA9B,CAAuC1E,CAAvC,CAAf,CACH,CAFD,CAnDwC,CAuDxC4E,EAAgB,WAAhB,CAA6BjF,CAA7B,CAAuCC,CAAvC,CAA6CI,CAA7C,CAAuD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC3E,GAAIU,GAAY3F,EAAE,MAAF,CAAhB,CACA2F,EAAUJ,IAAV,CAAe,MAAf,CAAuBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,MAA9B,CAAsC1E,CAAtC,CAAvB,CAF2E,CAG3EoF,EAAU3E,IAAV,CAAeoE,EAAMpE,IAAN,EAAf,CAH2E,CAI3EoE,EAAMpE,IAAN,CAAW2E,CAAX,CACH,CALD,CAvDwC,CA8DxCR,EAAgB,gBAAhB,CAAkCjF,CAAlC,CAA4CC,CAA5C,CAAkDI,CAAlD,CAA4D,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAChF,GAAIU,GAAY3F,EAAE,MAAF,CAAhB,CACA2F,EAAUJ,IAAV,CAAe,MAAf,CAAuBF,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,WAA9B,CAA2C1E,CAA3C,CAAvB,CAFgF,CAGhF6E,EAAMQ,IAAN,CAAWD,CAAX,CACH,CAJD,CA9DwC,CAoExCR,EAAgB,cAAhB,CAAgCjF,CAAhC,CAA0CC,CAA1C,CAAgDI,CAAhD,CAA0D,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC9EjF,EAAEiF,CAAF,EAASlE,IAAT,CAAc,UAAY,CACtB,GAAI8E,GAAU7F,EAAE,WAAF,CAAd,CACA6F,EAAQN,IAAR,CAAa,OAAb,CAAsB,IAAtB,EAA4BD,IAA5B,CAAiC,IAAjC,EAAuCQ,QAAvC,CAAgDV,CAAhD,CACH,CAHD,CAIH,CALD,CApEwC,CA2ExCW,EAAmB7F,CAAnB,CAA6BC,CAA7B,CAAmCI,CAAnC,CA3EwC,CA6ExC4E,EAAgB,YAAhB,CAA8BjF,CAA9B,CAAwCC,CAAxC,CAA8CI,CAA9C,CAAwD,SAAU6E,CAAV,CAAiBH,CAAjB,CAAwB,CAC5EG,EAAML,GAAN,CAAUM,EAAgBD,CAAhB,CAAuBH,CAAvB,CAA8B,OAA9B,CAAuC1E,CAAvC,CAAV,CACH,CAFD,CAKH,CAED,QAAS4E,EAAT,CAAyBa,CAAzB,CAAoC9F,CAApC,CAA8CC,CAA9C,CAAoDI,CAApD,CAA8D0F,CAA9D,CAAgFC,CAAhF,CAAgG,CAC5FlG,EAAE,IAAMgG,CAAN,CAAkB,GAApB,CAAyB9F,CAAzB,EAAmCa,IAAnC,CAAwC,UAAY,CAChD,GAAIoF,GAAQnG,EAAE,IAAF,CAAZ,CACIoG,EAAQD,EAAMZ,IAAN,CAAWS,CAAX,CADZ,CAEIf,EAAQoB,EAASlG,CAAT,CAAeiG,CAAf,CAFZ,CADgD,MAK3CE,GAA+BH,CAA/B,CAAsClB,CAAtC,CAA6C1E,CAA7C,CAL2C,MAUhD4F,EAAMI,UAAN,CAAiBP,CAAjB,CAVgD,CAY3B,WAAjB,QAAOf,EAAP,EAAgCgB,CAZY,CAa5CA,EAAiBE,CAAjB,CAAwBlB,CAAxB,CAb4C,CAcrCiB,CAdqC,EAe5CA,EAAeC,CAAf,CAf4C,MAM5CA,GAAMX,MAAN,EAWP,CAjBD,CAmBH,CAED,QAASc,EAAT,CAAwCE,CAAxC,CAAiEvB,CAAjE,CAAwE1E,CAAxE,CAAkF,CAE9E,GAAIkB,GAAiBgF,EAAkBD,CAAlB,CAA2CjG,CAA3C,CAArB,CAF8E,QAI1EkB,EAAeC,eAAf,EAAmD,WAAjB,QAAOuD,EAJiC,KAOnExD,EAAeE,UAAf,EAAuC,IAAV,IAPsC,KAUnEF,EAAeG,iBAAf,EAA8C,EAAV,IAV+B,CAgBjF,CAED,QAAS6E,EAAT,CAA2BD,CAA3B,CAAoDjG,CAApD,CAA8D,CAE1D,GAAIkB,GAAiB,EAArB,CAEA;AAWA;AACA,MAXI+E,aAAmCE,OAAnC,EAA6CF,EAAwBjB,IAAxB,CAA6B,sBAA7B,CAWjD,EATI9D,EAAiBzB,EAAE2G,SAAF,CAAYH,EAAwBjB,IAAxB,CAA6B,sBAA7B,CAAZ,CASrB,CARIiB,EAAwBD,UAAxB,CAAmC,sBAAnC,CAQJ,EAL8C,QAAnC,uBAAOC,EAAP,qBAAOA,CAAP,IAA+CA,EAAwBlE,cAAxB,CAAuC,gBAAvC,CAK1D,GAJIb,EAAiB+E,EAAwB/E,cAI7C,EAAOzB,EAAES,MAAF,CAAS,EAAT,CAAaF,EAASkB,cAAtB,CAAsCA,CAAtC,CACV,CAED,QAASsE,EAAT,CAA4B7F,CAA5B,CAAsCC,CAAtC,CAA4CI,CAA5C,CAAsD,CAClDP,EAAE,sBAAF,CAA0BE,CAA1B,EAAoCa,IAApC,CAAyC,UAAY,CACjD,GAAIoF,GAAQnG,EAAE,IAAF,CAAZ,CACIoG,EAAQpG,EAAE2G,SAAF,CAAYR,EAAMZ,IAAN,CAAW,oBAAX,CAAZ,CADZ,CAGAY,EAAMI,UAAN,CAAiB,oBAAjB,CAJiD,CAMjDvG,EAAEoG,CAAF,EAASrF,IAAT,CAAc,UAAY,CACtB,GAAIkE,EAAJ,CAOA,GAJIA,CAIJ,CAL4B,QAAxB,WAAQ,KAAKA,KAAb,CAKJ,CAJYoB,EAASlG,CAAT,CAAe,KAAK8E,KAAL,CAAW9E,IAA1B,CAIZ,CAFYkG,EAASlG,CAAT,CAAe,KAAK8E,KAApB,CAEZ,CAAI,KAAKe,SAAT,CAAoB,CAEhB,GAAI,CAACM,EAA+B,IAA/B,CAAqCrB,CAArC,CAA4C1E,CAA5C,CAAL,CAEI,WADA4F,GAAMX,MAAN,EACA,CAGJ,OAAQ,KAAKQ,SAAb,EACI,IAAK,SAAL,CACA,IAAK,WAAL,CACIG,EAAMnF,IAAN,CAAW4F,EAAwBT,CAAxB,CAA+BlB,CAA/B,CAAsC,IAAtC,CAAX,CADJ,CAEI,MACJ,IAAK,eAAL,CACIkB,EAAM9E,MAAN,CAAauF,EAAwBT,CAAxB,CAA+BlB,CAA/B,CAAsC,IAAtC,CAAb,CADJ,CAEI,MACJ,IAAK,gBAAL,CACIkB,EAAM7E,OAAN,CAAcsF,EAAwBT,CAAxB,CAA+BlB,CAA/B,CAAsC,IAAtC,CAAd,CADJ,CAEI,MACJ,IAAK,aAAL,CACIkB,EAAMb,IAAN,CAAWsB,EAAwBT,CAAxB,CAA+BlB,CAA/B,CAAsC,IAAtC,CAAX,CADJ,CAEI,MACJ,IAAK,SAAL,CACI,GAAI4B,GAAc,IAAlB,CACA7G,EAAEiF,CAAF,EAASlE,IAAT,CAAc,UAAY,CACtB,GAAI8E,GAAU7F,EAAE,WAAF,CAAd,CACA6F,EACKN,IADL,CACU,OADV,CACmB,KAAKsB,EAAY5B,KAAZ,CAAkBA,KAAvB,CADnB,EAEKK,IAFL,CAEUsB,EAAwBT,CAAxB,CAA+B,KAAKU,EAAY5B,KAAZ,CAAkB6B,OAAvB,CAA/B,CAAgED,CAAhE,CAFV,EAGKtB,IAHL,CAGU,UAHV,CAGsB,cAAO,KAAKsB,EAAY5B,KAAZ,CAAkB8B,QAAvB,CAAP,CAHtB,EAGqF,KAAKF,EAAY5B,KAAZ,CAAkB8B,QAAvB,CAHrF,EAIKjB,QAJL,CAIcK,CAJd,CAKH,CAPD,CAFJ,CAUI,MACJ,QACIA,EAAMZ,IAAN,CAAW,KAAKS,SAAhB,CAA2BY,EAAwBT,CAAxB,CAA+BlB,CAA/B,CAAsC,IAAtC,CAA3B,CADJ,CAzBJ,CA4BH,CACJ,CA5CD,CA6CH,CAnDD,CAoDH,CAED,QAAS2B,EAAT,CAAiCxB,CAAjC,CAAwCH,CAAxC,CAA+C9E,CAA/C,CAAqDI,CAArD,CAA+D,OACvDJ,GAAKyC,SAAL,EAAkBC,EAAW1C,EAAKyC,SAAhB,CADqC,CAE/C,SAAUoE,CAAV,CAA6B,CACjC,MAAOnE,GAAW1C,EAAKyC,SAAhB,EAA2BZ,IAA3B,CAAgCoD,CAAhC,CAAuCH,CAAvC,CAA8C9E,EAAK8G,aAAnD,CAAkED,CAAlE,CACV,CAFM,CAEJzG,CAFI,CAFgD,CAMpD0E,CACV,CAED,QAASoB,EAAT,CAAkBlG,CAAlB,CAAwBiG,CAAxB,CAA+B,CAC3B,GAAc,MAAV,IAAJ,CACI,MAAOjG,EAAP,CAFuB,IAI3B,GACI+G,EADJ,CAAIC,EAAaf,EAAMgB,KAAN,CAAY,GAAZ,CAAjB,CAEInC,EAAQ9E,CANe,CAQpB,CAAC+G,EAAOC,EAAWjC,KAAX,EAAR,GAAgD,WAAjB,QAAOD,EAAtC,EAAwE,IAAT,GAR3C,EASvBA,EAAQA,EAAMiC,CAAN,CAAR,CAGJ,MAAOjC,EACV,CAED,QAASI,EAAT,CAAyBD,CAAzB,CAAgCH,CAAhC,CAAuCM,CAAvC,CAA6ChF,CAA7C,CAAuD,CACnD,GACIqC,EADJ,CAAIyE,EAAkBjC,EAAMG,IAAN,CAAW,oBAAX,CAAtB,CAGA,IAAI8B,IAAoB9B,CAApB,EAA6B,CAAC8B,CAAD,EAA6B,SAAT,IAArD,IACIzE,EAAYwC,EAAMG,IAAN,CAAW,aAAX,CADhB,CAEQ3C,GAA8C,UAAjC,QAAOC,GAAWD,CAAX,CAF5B,EAEkE,CAC1D,GAAIqE,GAAgB7B,EAAMG,IAAN,CAAW,qBAAX,CAApB,CACA,MAAQ,UAAUyB,CAAV,CAA6B,CACjC,MAAOnE,GAAWD,CAAX,EAAsBZ,IAAtB,CAA2BoD,EAAM,CAAN,CAA3B,CAAqCH,CAArC,CAA4CgC,CAA5C,CAA2DjH,EAAES,MAAF,CAAS,EAAT,CAAauG,CAAb,CAA3D,CACV,CAFM,CAEJzG,CAFI,CAGV,CAGL,MAAO0E,EACV,CArgBD,GAGInD,EAHJ,CAAIM,EAAY,EAAhB,CACIuB,EAAQ,EADZ,CAEId,EAAa,EAFjB,CAsgBAH,EAAqB,yBAArB,CAAgD,SAAUuC,CAAV,CAAiB7E,CAAjB,CAA0BkH,CAA1B,CAA4C,CACxF,GAAKlH,CAAL,EAIuB,QAAnB,QAAOA,EAAP,EAA8C,GAAf,KAAQ,CAAR,CAJnC,GAKIA,EAAUJ,EAAE2G,SAAF,CAAYvG,CAAZ,CALd,KAQImH,GAAgBnH,EAAQmH,aAAR,EAAyB,KAR7C,CASIrH,EAAWE,EAAQF,QAAR,EAAoBE,CATnC,CAWA;AAXA,MAYIA,GAAQmH,aAZZ,CAaWvH,EAAE,IAAMuH,CAAN,CAAsB,IAAxB,EAA8BtH,YAA9B,CAA2CC,CAA3C,CAAqD+E,CAArD,CAA4DqC,CAA5D,CAbX,CAeWtH,EAAE,IAAMuH,CAAN,CAAsB,IAAxB,EAA8BtH,YAA9B,CAA2CC,CAA3C,CAAqD+E,CAArD,CAA4DqC,CAA5D,EAA8ExC,QAA9E,EAfX,CAgBH,CAjBD,CAxgBU,CA0hBV9E,EAAEwH,EAAF,CAAKvH,YAAL,CAAoBA,CA1hBV,CA2hBVD,EAAE0C,oBAAF,CAAyBA,CAE5B,CA7hBD,EA6hBGgE,MA7hBH,C","file":"js-templating.js","sourcesContent":["// source: https://github.com/codepb/jquery-template/\n\n(function ($) {\n    \"use strict\";\n    var templates = {},\n        queue = {},\n        formatters = {},\n        isArray;\n\n    function loadTemplate(template, data, options) {\n        var $that = this,\n            $template,\n            isFile,\n            settings;\n\n        data = data || {};\n\n        settings = $.extend(true, {\n            // These are the defaults.\n            async: true,\n            overwriteCache: false,\n            complete: null,\n            success: null,\n            error: function () {\n                $(this).each(function () {\n                    $(this).html(settings.errorMessage);\n                });\n            },\n            errorMessage: \"There was an error loading the template.\",\n            paged: false,\n            pageNo: 1,\n            elemPerPage: 10,\n            append: false,\n            prepend: false,\n            beforeInsert: null,\n            afterInsert: null,\n            bindingOptions: {\n                ignoreUndefined: false,\n                ignoreNull: false,\n                ignoreEmptyString: false\n            }\n        }, options);\n\n        if ($.type(data) === \"array\") {\n            isArray = true;\n            return processArray.call(this, template, data, settings);\n        }\n\n        if (!containsSlashes(template)) {\n            $template = $(template);\n            if (typeof template === 'string' && template.indexOf('#') === 0) {\n                settings.isFile = false;\n            }\n        }\n\n        isFile = settings.isFile || (typeof settings.isFile === \"undefined\" && (typeof $template === \"undefined\" || $template.length === 0));\n\n        if (isFile && !settings.overwriteCache && templates[template]) {\n            prepareTemplateFromCache(template, $that, data, settings);\n        } else if (isFile && !settings.overwriteCache && templates.hasOwnProperty(template)) {\n            addToQueue(template, $that, data, settings);\n        } else if (isFile) {\n            loadAndPrepareTemplate(template, $that, data, settings);\n        } else {\n            loadTemplateFromDocument($template, $that, data, settings);\n        }\n        return this;\n    }\n\n    function addTemplateFormatter(key, formatter) {\n        if (formatter) {\n            formatters[key] = formatter;\n        } else {\n            formatters = $.extend(formatters, key);\n        }\n    }\n\n    function containsSlashes(str) {\n        return typeof str === \"string\" && str.indexOf(\"/\") > -1;\n    }\n\n    function processArray(template, data, settings) {\n        settings = settings || {};\n        var $that = this,\n            todo = data.length,\n            doPrepend = settings.prepend && !settings.append,\n            done = 0,\n            success = 0,\n            errored = false,\n            errorObjects = [],\n            newOptions;\n\n        if (settings.paged) {\n            var startNo = (settings.pageNo - 1) * settings.elemPerPage;\n            data = data.slice(startNo, startNo + settings.elemPerPage);\n            todo = data.length;\n        }\n\n        if (!settings.append && !settings.prepend) {\n            $that.html(\"\");\n        }\n\n        newOptions = $.extend(\n            {},\n            settings,\n            {\n                append: !settings.prepend && true,\n                complete: function (data) {\n                    done++;\n                    if (done === todo || errored) {\n                        if (errored && settings && typeof settings.error === \"function\") {\n                            settings.error.call($that, errorObjects);\n                        }\n                        if (settings && typeof settings.complete === \"function\") {\n                            settings.complete();\n                        }\n                    }\n                },\n                success: function () {\n                    success++;\n                    if (success === todo) {\n                        if (settings && typeof settings.success === \"function\") {\n                            settings.success();\n                        }\n                    }\n                },\n                error: function (e) {\n                    errored = true;\n                    errorObjects.push(e);\n                }\n            }\n        );\n\n\n\n        if (doPrepend) data.reverse();\n        $(data).each(function () {\n\n            loadTemplate.call($that, template, this, newOptions);\n            if (errored) {\n                return false;\n            }\n        });\n\n        return this;\n    }\n\n    function addToQueue(template, selection, data, settings) {\n        if (queue[template]) {\n            queue[template].push({ data: data, selection: selection, settings: settings });\n        } else {\n            queue[template] = [{ data: data, selection: selection, settings: settings}];\n        }\n    }\n\n    function prepareTemplateFromCache(template, selection, data, settings) {\n        var $templateContainer = templates[template].clone();\n\n        prepareTemplate.call(selection, $templateContainer, data, settings);\n        if (typeof settings.success === \"function\") {\n            settings.success();\n        }\n    }\n\n    function uniqueId() {\n        return new Date().getTime();\n    }\n\n    function urlAvoidCache(url) {\n        if (url.indexOf('?') !== -1) {\n            return url + \"&_=\" + uniqueId();\n        }\n        else {\n            return url + \"?_=\" + uniqueId();\n        }\n    }\n\n    function loadAndPrepareTemplate(template, selection, data, settings) {\n\n        templates[template] = null;\n        var templateUrl = template;\n        if (settings.overwriteCache) {\n            templateUrl = urlAvoidCache(templateUrl);\n        }\n        $.ajax({\n            url: templateUrl,\n            async: settings.async,\n            success: function (templateContent) {\n                handleTemplateLoadingSuccess($(templateContent), template, selection, data, settings);\n            },\n            error: function (e) {\n                handleTemplateLoadingError(template, selection, data, settings, e);\n            }\n        });\n    }\n\n    function loadTemplateFromDocument($template, selection, data, settings) {\n        if ($template.is(\"script\") || $template.is(\"template\")) {\n            $template = $.parseHTML($.trim($template.html()));\n        }\n\n        prepareTemplate.call(selection, $template, data, settings);\n\n        if (typeof settings.success === \"function\") {\n            settings.success();\n        }\n    }\n\n    function prepareTemplate(template, data, settings) {\n        var template = $(\"<div/>\").append(template);\n        bindData(template, data, settings);\n\n        $(this).each(function () {\n            var $templateHtml = template.children().clone(true);\n            $(\"select\", $templateHtml).each(function (key, value) {\n                $(this).val($(\"select\", template).eq(key).val())\n            });\n            if (settings.beforeInsert) {\n                settings.beforeInsert($templateHtml, data);\n            }\n            if (settings.append) {\n\n                $(this).append($templateHtml);\n            } else if (settings.prepend) {\n                $(this).prepend($templateHtml);\n            } else {\n                $(this).html(\"\").append($templateHtml);\n            }\n            if (settings.afterInsert) {\n                settings.afterInsert($templateHtml, data);\n            }\n        });\n\n        if (typeof settings.complete === \"function\") {\n            settings.complete.call($(this), data);\n        }\n    }\n\n    function handleTemplateLoadingError(template, selection, data, settings, error) {\n        var value;\n\n        if (typeof settings.error === \"function\") {\n            settings.error.call(selection, error);\n        }\n\n        $(queue[template]).each(function (key, value) {\n            if (typeof value.settings.error === \"function\") {\n                value.settings.error.call(value.selection, error);\n            }\n        });\n\n        if (typeof settings.complete === \"function\") {\n            settings.complete.call(selection);\n        }\n\n        while (queue[template] && (value = queue[template].shift())) {\n            if (typeof value.settings.complete === \"function\") {\n                value.settings.complete.call(value.selection);\n            }\n        }\n\n        if (typeof queue[template] !== 'undefined' && queue[template].length > 0) {\n            queue[template] = [];\n        }\n    }\n\n    function handleTemplateLoadingSuccess($templateContainer, template, selection, data, settings) {\n        var value;\n\n        templates[template] = $templateContainer.clone();\n        prepareTemplate.call(selection, $templateContainer, data, settings);\n\n        if (typeof settings.success === \"function\") {\n            settings.success.call(selection);\n        }\n\n        while (queue[template] && (value = queue[template].shift())) {\n            prepareTemplate.call(value.selection, templates[template].clone(), value.data, value.settings);\n            if (typeof value.settings.success === \"function\") {\n                value.settings.success.call(value.selection);\n            }\n        }\n    }\n\n    function bindData(template, data, settings) {\n        data = data || {};\n\n        processElements(\"data-content\", template, data, settings, function ($elem, value) {\n            $elem.html(applyFormatters($elem, value, \"content\", settings));\n        });\n\n        processElements(\"data-content-append\", template, data, settings, function ($elem, value) {\n            $elem.append(applyFormatters($elem, value, \"content\", settings));\n        });\n\n        processElements(\"data-content-prepend\", template, data, settings, function ($elem, value) {\n            $elem.prepend(applyFormatters($elem, value, \"content\", settings));\n        });\n\n        processElements(\"data-content-text\", template, data, settings, function ($elem, value) {\n            $elem.text(applyFormatters($elem, value, \"content\", settings));\n        });\n\n        processElements(\"data-innerHTML\", template, data, settings, function ($elem, value) {\n            $elem.html(applyFormatters($elem, value, \"content\", settings));\n        });\n\n        processElements(\"data-src\", template, data, settings, function ($elem, value) {\n            $elem.attr(\"src\", applyFormatters($elem, value, \"src\", settings));\n        }, function ($elem) {\n            $elem.remove();\n        });\n\n        processElements(\"data-href\", template, data, settings, function ($elem, value) {\n            $elem.attr(\"href\", applyFormatters($elem, value, \"href\", settings));\n        }, function ($elem) {\n            $elem.remove();\n        });\n\n        processElements(\"data-alt\", template, data, settings, function ($elem, value) {\n            $elem.attr(\"alt\", applyFormatters($elem, value, \"alt\", settings));\n        });\n\n        processElements(\"data-title\", template, data, settings, function ($elem, value) {\n            $elem.attr(\"title\", applyFormatters($elem, value, \"title\", settings));\n        });\n\n        processElements(\"data-id\", template, data, settings, function ($elem, value) {\n            $elem.attr(\"id\", applyFormatters($elem, value, \"id\", settings));\n        });\n\n        processElements(\"data-css\", template, data, settings, function ($elem, value) {\n            $elem.css(applyFormatters($elem, value, \"css\", settings))\n        });\n\n        processElements(\"data-class\", template, data, settings, function ($elem, value) {\n            $elem.addClass(applyFormatters($elem, value, \"class\", settings));\n        });\n\n        processElements(\"data-link\", template, data, settings, function ($elem, value) {\n            var $linkElem = $(\"<a/>\");\n            $linkElem.attr(\"href\", applyFormatters($elem, value, \"link\", settings));\n            $linkElem.html($elem.html());\n            $elem.html($linkElem);\n        });\n\n        processElements(\"data-link-wrap\", template, data, settings, function ($elem, value) {\n            var $linkElem = $(\"<a/>\");\n            $linkElem.attr(\"href\", applyFormatters($elem, value, \"link-wrap\", settings));\n            $elem.wrap($linkElem);\n        });\n\n        processElements(\"data-options\", template, data, settings, function ($elem, value) {\n            $(value).each(function () {\n                var $option = $(\"<option/>\");\n                $option.attr('value', this).text(this).appendTo($elem);\n            });\n        });\n\n        processAllElements(template, data, settings);\n\n        processElements(\"data-value\", template, data, settings, function ($elem, value) {\n            $elem.val(applyFormatters($elem, value, \"value\", settings));\n        });\n\n\n    }\n\n    function processElements(attribute, template, data, settings, dataBindFunction, noDataFunction) {\n        $(\"[\" + attribute + \"]\", template).each(function () {\n            var $this = $(this),\n                param = $this.attr(attribute),\n                value = getValue(data, param);\n\n            if (!valueIsAllowedByBindingOptions($this, value, settings)) {\n                $this.remove();\n                return;\n            }\n\n            $this.removeAttr(attribute);\n\n            if (typeof value !== 'undefined' && dataBindFunction) {\n                dataBindFunction($this, value);\n            } else if (noDataFunction) {\n                noDataFunction($this);\n            }\n        });\n        return;\n    }\n\n    function valueIsAllowedByBindingOptions(bindingOptionsContainer, value, settings) {\n\n        var bindingOptions = getBindingOptions(bindingOptionsContainer, settings);\n\n        if (bindingOptions.ignoreUndefined && typeof value === \"undefined\") {\n            return false;\n\n        } else if (bindingOptions.ignoreNull && value === null) {\n            return false;\n\n        } else if (bindingOptions.ignoreEmptyString && value === \"\") {\n            return false;\n\n        } else {\n            return true;\n        }\n    }\n\n    function getBindingOptions(bindingOptionsContainer, settings) {\n\n        var bindingOptions = {};\n\n        // binding options passed as template attribute, i.e. 'data-binding-options'\n        if (bindingOptionsContainer instanceof jQuery && bindingOptionsContainer.attr(\"data-binding-options\")) {\n\n            bindingOptions = $.parseJSON(bindingOptionsContainer.attr(\"data-binding-options\"));\n            bindingOptionsContainer.removeAttr(\"data-binding-options\");\n\n            // binding options defined in a \"data-template-bind\" attribute\n        } else if (typeof bindingOptionsContainer === \"object\" && bindingOptionsContainer.hasOwnProperty('bindingOptions')) {\n            bindingOptions = bindingOptionsContainer.bindingOptions;\n        }\n\n        // extend general bindingOptions with specific settings\n        return $.extend({}, settings.bindingOptions, bindingOptions);\n    }\n\n    function processAllElements(template, data, settings) {\n        $(\"[data-template-bind]\", template).each(function () {\n            var $this = $(this),\n                param = $.parseJSON($this.attr(\"data-template-bind\"));\n\n            $this.removeAttr(\"data-template-bind\");\n\n            $(param).each(function () {\n                var value;\n\n                if (typeof (this.value) === 'object') {\n                    value = getValue(data, this.value.data);\n                } else {\n                    value = getValue(data, this.value);\n                }\n                if (this.attribute) {\n\n                    if (!valueIsAllowedByBindingOptions(this, value, settings)) {\n                        $this.remove();\n                        return;\n                    }\n\n                    switch (this.attribute) {\n                        case \"content\":\n                        case \"innerHTML\":\n                            $this.html(applyDataBindFormatters($this, value, this));\n                            break;\n                        case \"contentAppend\":\n                            $this.append(applyDataBindFormatters($this, value, this));\n                            break;\n                        case \"contentPrepend\":\n                            $this.prepend(applyDataBindFormatters($this, value, this));\n                            break;\n                        case \"contentText\":\n                            $this.text(applyDataBindFormatters($this, value, this));\n                            break;\n                        case \"options\":\n                            var optionsData = this;\n                            $(value).each(function () {\n                                var $option = $(\"<option/>\");\n                                $option\n                                    .attr('value', this[optionsData.value.value])\n                                    .text(applyDataBindFormatters($this, this[optionsData.value.content], optionsData))\n                                    .attr('selected', typeof this[optionsData.value.selected] == undefined ? false : this[optionsData.value.selected])\n                                    .appendTo($this);\n                            });\n                            break;\n                        default:\n                            $this.attr(this.attribute, applyDataBindFormatters($this, value, this));\n                    }\n                }\n            });\n        });\n    }\n\n    function applyDataBindFormatters($elem, value, data, settings) {\n        if (data.formatter && formatters[data.formatter]) {\n            return (function (formatterSettings) {\n                return formatters[data.formatter].call($elem, value, data.formatOptions, formatterSettings);\n            })(settings);\n        }\n        return value;\n    }\n\n    function getValue(data, param) {\n        if (param === \"this\") {\n            return data;\n        }\n        var paramParts = param.split('.'),\n            part,\n            value = data;\n\n        while ((part = paramParts.shift()) && typeof value !== \"undefined\" && value != null) {\n            value = value[part];\n        }\n\n        return value;\n    }\n\n    function applyFormatters($elem, value, attr, settings) {\n        var formatterTarget = $elem.attr(\"data-format-target\"),\n            formatter;\n\n        if (formatterTarget === attr || (!formatterTarget && attr === \"content\")) {\n            formatter = $elem.attr(\"data-format\");\n            if (formatter && typeof formatters[formatter] === \"function\") {\n                var formatOptions = $elem.attr(\"data-format-options\");\n                return (function (formatterSettings) {\n                    return formatters[formatter].call($elem[0], value, formatOptions, $.extend({}, formatterSettings));\n                })(settings);\n            }\n        }\n\n        return value;\n    }\n    addTemplateFormatter(\"nestedTemplateFormatter\", function (value, options, internalSettings) {\n        if (!options) {\n            return;\n        }\n\n        if (typeof options === \"string\" && options[0] === \"{\") {\n            options = $.parseJSON(options);\n        }\n\n        var parentElement = options.parentElement || \"div\";\n        var template = options.template || options;\n\n        //If a parent is specified, return it; otherwise only return the generated children.\n        if (options.parentElement)\n            return $(\"<\" + parentElement + \"/>\").loadTemplate(template, value, internalSettings);\n        else\n            return $(\"<\" + parentElement + \"/>\").loadTemplate(template, value, internalSettings).children();\n    });\n    $.fn.loadTemplate = loadTemplate;\n    $.addTemplateFormatter = addTemplateFormatter;\n\n})(jQuery);"]}